<!doctype html>

<html lang="en"> 


<head> 

    <meta charset="utf-8"> 

    <meta name="description" content="HTML5 Template"> 

    <link rel="stylesheet" type="text/css" href="style2.css"> 

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <center><h1>The Great Race</h1>
   <center<h3>click the green light to begin</h3> 

</head> 


<center><body> 
	
    <div class="red"></div> 

    <div class="black"></div>  

    <div2 onclick="switchLight(0);" class="light stop on" id="pause"></div2> 

    <div2 onclick="switchLight(1);" class="light slow"></div2> 

    <div2 onclick="switchLight(2);" class="light go" id="go"></div2>  
</body>

<script type="text/javascript">


var LIGHTS = document.getElementsByClassName("light"); 



function allOff() { 
  for (var i=0; i<LIGHTS.length; i = i+1) { 
    LIGHTS[i].classList.remove("on"); 
  } 
} 
</script>


<script> 
function switchLight(lightNumber) { 
  allOff(); 
  var light = LIGHTS[lightNumber]; 
  light.classList.add("on"); 
}

        $(document).ready(function() { 
            $("#go").click(function() { 
                var r = $('.red'), 
                    b = $('.black'), 
                    wW = $(window).width(), 
                    rSpeed = Math.floor(Math.random() * wW + wW), 
                    bSpeed = Math.floor(Math.random() * wW + wW); 
                switchLight(2); 
                function winTest() { 
                    if (rSpeed > bSpeed) { 
                        alert('Red car wins this race!!'); 
                        reset(); 
                    } else { 
                        alert('Black car wins this race!'); 
                        reset(); 
                    } 
                    switchLight(0); 
                } 
                function race() { 
                    var rAnim = r.animate({ 
                        left: rSpeed 
                    }, { 
                        duration: 400, 
                        done: function() { 
                            bAnim.stop(); 
                            winTest(); 
                        } 
                    }); 
                    var bAnim = b.animate({ 
                        left: bSpeed 
                    }, { 
                        duration: 400, 
                        done: function() { 
                            rAnim.stop(); 
                            winTest(); 
                        } 
                    }); 
                } 
                race(); 
                function reset() { 
                    rSpeed = 0; 
                    bSpeed = 0; 
                    r.css('left', 0); 
                    b.css('left', 0); 
                } 
            }); 
        }); 
    </script> 
</body> 
</html> 

</html>